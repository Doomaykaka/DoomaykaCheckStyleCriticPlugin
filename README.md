# DoomaykaCheckStyleCriticPlugin (Плагин gradle для оценки качества кода на основе отчётов CheckStyle)
## Возможности

Данная утилита имеет следующие возможности:

- Автоматический поиск и чтение отчёта CheckStyle.
- Конфигурация поиска отчёта.
- Конфигурация системы подсчёта качества кода.
- Конфигурация выводимых сообщений с результатами оценки.

## Как запустить?

### Зависимости

- JDK 8 и выше
- Gradle 8.0.1 и выше

### Запуск приложения

Для использования приложение необходимо собрать в исполняемый jar файл.

```bash
gradle build
```

Затем данный файл необходимо поместить в корневую директорию проекта.
Для использования приложения его необходимо запустить.

```bash
java -jar app.jar
```

## Конфигурация

Для настройки приложения рядом с jar файлом можно создать файл properties.conf.
Также через параметры запуска в коммандной строке можно прописать путь к конфигурационному файлу (имя должно совпадать с указанным выше).

Конфигурационный файл может содержать ряд параметров:

- Параметр error-multiplier отвечает за множитель оценки ошибок (принимает число). 
- Параметр warning-multiplier отвечает за множитель оценки предупреждений (принимает число).
- Параметр refactor-multiplier отвечает за множитель оценки ошибок оформления кода (принимает число).
- Параметр convention-multiplier отвечает за множитель оценки ошибок стандартов кода (принимает число).
- Параметр xml-path отвечает за путь к XML файлу отчёта CheckStyle (принимает строку).
- Параметр xml-name отвечает за имя XML файла отчёта CheckStyle (принимает строку).
- Параметр error-messages отвечает за виды ошибок, которые будут учитываться при получении оценки (принимает строки разделённые символом ; ). 
- Параметр warning-messages отвечает за виды предупреждений, которые будут учитываться при получении оценки (принимает строки разделённые символом ; ). 
- Параметр refactor-messages отвечает за виды ошибок оформления кода, которые будут учитываться при получении оценки (принимает строки разделённые символом ; ). 
- Параметр convention-messages отвечает за виды ошибок стандартов кода, которые будут учитываться при получении оценки (принимает строки разделённые символом ; ).
- Параметр messages отвечает за выводимые в консоль сообщения (принимает строки разделённые символом ; ).

В сообщениях консоли можно использовать метки для рассчитанных значений:

- %lc (число обработанных строк)
- %emp (множитель оценки ошибок)
- %wmp (множитель оценки предупреждений)
- %rmp (множитель оценки ошибок оформления кода)
- %cmp (множитель оценки ошибок стандартов кода)
- %ect (количество ошибок)
- %wct (количество предупреждений)
- %rct (количество ошибок оформления кода)
- %cct (количество ошибок стандартов кода)
- %r (оценка)

Пример конфигурационного файла:

```ini
xml-name=main.xml
error-multiplier=1
warning-multiplier=1
refactor-multiplier=1
convention-multiplier=1
messages=Привет; Это для тебя (%lc строк обработал); получил такой рейтинг: %r
```